<!--部门设置begin-->
<div class="rightpage" *ngIf="this.queryId==1">
  <form class="form-validate form-horizontal" style="height: 100%" #addLimitForm="ngForm">
    <!-- START panel-->
    <div class="panel-default">
      <div class="panel-body">
        <fieldset class="b0">
          <legend>部门设置</legend>
        </fieldset>
        <input class="form-control" required [(ngModel)]="deptCode" name="deptCode" type="hidden"/>
        <input class="form-control" [(ngModel)]="preCode" name="preCode" type="hidden"/>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label"> <i>*</i> 部门名称</label>
            <div class="col-sm-8">
              <input class="form-control" required name="deptName" [(ngModel)]="limitForm.deptName"
                     #deptName="ngModel" type="text"/>
              <div [hidden]="deptName.valid || deptName.pristine"
                   class="alert alert-danger">
                部门名称是必填项，请填写部门名称
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label">部门位置</label>
            <div class="col-sm-8">
              <input class="form-control" type="text" name="adr" ngModel [(ngModel)]="dept.adr"/>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label">部门职责</label>
            <div class="col-sm-8">
              <input class="form-control" type="text" name="duty" ngModel [(ngModel)]="dept.duty"/>
            </div>
          </div>
        </fieldset>
       <!-- <fieldset>
          <div class="form-group">
            <fieldset>
              <div class="form-group">
                <label class="col-sm-3 control-label">为部门设置主管</label>
                <ng-select class="col-sm-8" (data)="value" [multiple]="true" [items]="orgEmpExtVOList"
                           [disabled]="false" #defaultRole
                           (data)="refreshValueList($event)" placeholder="请选择角色">
                </ng-select>
              </div>
            </fieldset>
          </div>
        </fieldset>-->


      </div>
      <div class="panel-footer text-center" style="position: fixed;width: 100%;bottom:0;">
        <button class="ml btn btn-default mr pull-left" (click)="cancel()" type="button">取消</button>
        <button class="ml btn btn-info pull-left" type="button" [disabled]="!addLimitForm.form.valid" (click)="delLimitList(addLimitForm.value)">删除部门</button>
        <button class="ml btn btn-info pull-left" type="button" [disabled]="!addLimitForm.form.valid" (click)="addLimitList(addLimitForm.value)">保存</button>
      </div>
    </div>
    <!-- END panel-->
  </form>
</div>
<!--部门设置end-->

<!--添加子部门begin-->
<div class="rightpage" *ngIf="this.queryId==2" >
  <form class="form-validate form-horizontal"
        style="height: 100%" #addLimitForm="ngForm"
        (ngSubmit)="addLimitList(addLimitForm.value)">
    <!-- START panel-->
    <div class="panel-default">
      <div class="panel-body">
        <fieldset class="b0">
          <legend>添加子部门</legend>
        </fieldset>
        <input class="form-control" [(ngModel)]="deptCode" name="preCode" type="hidden"/>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label"> <i>*</i> 部门名称</label>
            <div class="col-sm-8">
              <input class="form-control" required name="deptName" [(ngModel)]="limitForm.deptName"
                     #deptName="ngModel" type="text"/>
              <div [hidden]="deptName.valid || deptName.pristine"
                   class="alert alert-danger">
                部门名称是必填项，请填写部门名称
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label">部门位置</label>
            <div class="col-sm-8">
              <input class="form-control" type="text" name="adr" ngModel [(ngModel)]="limitForm.adr"/>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label">部门职责</label>
            <div class="col-sm-8">
              <input class="form-control" type="text" name="duty" ngModel [(ngModel)]="limitForm.duty"/>
            </div>
          </div>
        </fieldset>
      </div>
      <div class="panel-footer text-center" style="position: fixed;width: 100%;bottom:0;">
        <button class="ml btn btn-default mr pull-left" (click)="cancel()" type="button">取消</button>
        <button class="ml btn btn-info pull-left" type="submit"
                [disabled]="!addLimitForm.form.valid" >提交信息
        </button>
      </div>
    </div>
    <!-- END panel-->
  </form>
</div>
<!--添加子部门end-->

<!--添加成员begin-->
<div class="rightpage" *ngIf="this.queryId==3">
  <form class="form-validate form-horizontal" style="height: 100%" #addLimitForm="ngForm">
    <!-- START panel-->
    <div class="panel-default">
      <div class="panel-body">
        <fieldset class="b0">
          <legend>添加成员</legend>
        </fieldset>
        <input class="form-control" required [(ngModel)]="deptCode" name="deptCode" type="hidden"/>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label"> <i>*</i> 身份证号</label>
            <div class="col-sm-8">
              <input class="form-control" required name="idcard" [(ngModel)]="limitForm.idcard"
                     #deptName="ngModel" type="text"/>
              <div [hidden]="deptName.valid || deptName.pristine"
                   class="alert alert-danger">
                身份证号是必填项，请填写身份证号
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label"> <i>*</i> 手机号</label>
            <div class="col-sm-8">
              <input class="form-control" required name="phone" [(ngModel)]="limitForm.phone"
                     #phone="ngModel" type="text"/>
              <div [hidden]="phone.valid || phone.pristine"
                   class="alert alert-danger">
                手机号是必填项，请填写手机号
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label"> <i>*</i> 姓名</label>
            <div class="col-sm-8">
              <input class="form-control" required name="staffName" [(ngModel)]="limitForm.staffName"
                     #staffName="ngModel" type="text"/>
              <div [hidden]="staffName.valid || staffName.pristine"
                   class="alert alert-danger">
                姓名是必填项，请填写姓名
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label"> <i>*</i> 登录账号</label>
            <div class="col-sm-8">
              <input class="form-control" required name="loginCode" [(ngModel)]="limitForm.loginCode"
                     #loginCode="ngModel" type="text"/>
              <div [hidden]="loginCode.valid || loginCode.pristine"
                   class="alert alert-danger">
                登录账号是必填项，请填写登录账号
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset>
        <div class="form-group">
          <label class="col-sm-3 control-label"> <i>*</i> 密码</label>
          <div class="col-sm-8">
            <input class="form-control" required name="pwd" [(ngModel)]="limitForm.pwd" #pwd="ngModel" type="password" minlength="6" maxlength="16" placeholder="请输入6-16位密码"/>
            <div [hidden]="pwd.valid || pwd.pristine"
                 class="alert alert-danger">
              密码是必填项，请填写密码
            </div>
          </div>
        </div>
      </fieldset>
      <fieldset>
        <div class="form-group">
          <label class="col-sm-3 control-label">所属部门</label>
          <div class="col-sm-8">
            <app-bing-role  [staffCode]="staffCode" (roleCodes)="getRoleCodes($event)"></app-bing-role>
          </div>
        </div>
      </fieldset>

        <!--<fieldset *ngIf="this.queryId == '3'">
          <div class="form-group">
            <label class="col-sm-4 control-label">机构LOGO</label>
            <div class="col-sm-7">
              <img class="col-sm-5 p-sm" *ngIf="myImg" [src]="myImg" alt="">
              <label class="btn btn-default file-upload">
                <i class="icon-cloud-upload mr"></i>{{fileName}}
                <input class="w100" type="file" name="sysLogo" ng2FileSelect [uploader]="uploader"
                       (change)="fileChangeListener($event)"/>
              </label>
            </div>
          </div>
        </fieldset>
        <fieldset *ngIf="this.queryId == '5'">
          <div class="form-group">
            <label class="col-sm-4 control-label">机构LOGO</label>
            <div class="col-sm-7">
              <img *ngIf="organ.orgLogo && !myImg" class="col-sm-5 p-sm" [src]="organ.orgLogo" alt="">
              <img *ngIf="organ.orgLogo && myImg" class="col-sm-5 p-sm" [src]="myImg" alt="">
              <img *ngIf="!organ.orgLogo && myImg" class="col-sm-5 p-sm" [src]="myImg" alt="">
              <label class="btn btn-default file-upload">
                <i class="icon-cloud-upload mr"></i>{{organ.orgLogo? '修改图片':'上传图片'}}
                <input class="w100" type="file" name="sysLogo" ng2FileSelect [uploader]="uploader"
                       (change)="fileChangeListener($event)"/>
              </label>
            </div>
          </div>
        </fieldset>-->
        <!--<fieldset>-->
          <!--<div class="form-group">-->
            <!--<label class="col-sm-3 control-label">头像</label>-->
            <!--<div class="col-sm-8">-->
              <!--<input class="form-control" type="text" name="uuid" ngModel [(ngModel)]="limitForm.uuid"/>-->
            <!--</div>-->
          <!--</div>-->
        <!--</fieldset>-->
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label">住址</label>
            <div class="col-sm-8">
              <input class="form-control" type="text" name="home" ngModel [(ngModel)]="limitForm.home"/>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label">职位</label>
            <div class="col-sm-8">
              <input class="form-control" type="text" name="position" ngModel [(ngModel)]="limitForm.position"/>
            </div>
          </div>
        </fieldset>

      </div>
      <div class="panel-footer text-center" style="position: fixed;width: 100%;bottom:0;">
        <button class="ml btn btn-default mr pull-left" (click)="cancel()" type="button">取消</button>
        <button class="ml btn btn-info pull-left" type="button" [disabled]="!addLimitForm.form.valid" (click)="addLimitList(addLimitForm.value)">提交信息</button>
      </div>
    </div>
    <!-- END panel-->
  </form>
</div>
<!--添加成员end-->

<!--修改密码begin-->
<div class="rightpage" *ngIf="this.queryId==4">
  <form class="form-validate form-horizontal" style="height: 100%" #addLimitForm="ngForm">
    <!-- START panel-->
    <div class="panel-default">
      <div class="panel-body">
        <fieldset class="b0">
          <legend>修改密码</legend>
        </fieldset>
        <input class="form-control" required [(ngModel)]="staffCode" name="staffCode" type="hidden"/>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label"> <i>*</i> 新密码</label>
            <div class="col-sm-8">
              <input class="form-control" required name="newpwd" [(ngModel)]="limitForm.newpwd"
                     #newpwd="ngModel" type="password" minlength="6" maxlength="16" placeholder="请输入6-16位密码"/>
              <div [hidden]="newpwd.valid || newpwd.pristine"
                   class="alert alert-danger">
                密码是必填项，请填写新密码
              </div>
            </div>
          </div>
        </fieldset>

      </div>
      <div class="panel-footer text-center" style="position: fixed;width: 100%;bottom:0;">
        <button class="ml btn btn-default mr pull-left" (click)="cancel()" type="button">取消</button>
        <button class="ml btn btn-info pull-left" type="button" [disabled]="!addLimitForm.form.valid" (click)="addLimitList(addLimitForm.value)">提交信息</button>
      </div>
    </div>
    <!-- END panel-->
  </form>
</div>
<!--修改密码end-->

<!--修改员工信息begin-->
<div class="rightpage" *ngIf="this.queryId==5">
  <form class="form-validate form-horizontal" style="height: 100%" #addLimitForm="ngForm">
    <!-- START panel-->
    <div class="panel-default">
      <div class="panel-body">
        <fieldset class="b0">
          <legend>修改员工信息</legend>
        </fieldset>
        <input class="form-control" required [(ngModel)]="staffCode" name="staffCode" type="hidden"/>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label"> <i>*</i> 身份证号</label>
            <div class="col-sm-8">
              <input class="form-control" required name="idcard" [(ngModel)]="staff.idcard"
                     #idcard="ngModel" type="text"/>
              <div [hidden]="idcard.valid || idcard.pristine"
                   class="alert alert-danger">
                身份证号是必填项，请填写身份证号
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label"> <i>*</i> 手机号</label>
            <div class="col-sm-8">
              <input class="form-control" required name="phone" [(ngModel)]="staff.phone"
                     #phone="ngModel" type="text"/>
              <div [hidden]="phone.valid || phone.pristine"
                   class="alert alert-danger">
                手机号是必填项，请填写手机号
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label"> <i>*</i> 员工名称</label>
            <div class="col-sm-8">
              <input class="form-control" required name="staffName" [(ngModel)]="staff.staffName"
                     #staffName="ngModel" type="text"/>
              <div [hidden]="staffName.valid || staffName.pristine"
                   class="alert alert-danger">
                员工名称是必填项，请填写员工名称
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label">所属部门</label>
            <div class="col-sm-8">
              <app-bing-role  [staffCode]="staffCode" (roleCodes)="getRoleCodes($event)"></app-bing-role>
            </div>
          </div>
        </fieldset>
        <!--<fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label">头像</label>
            <div class="col-sm-8">
              <input class="form-control" type="text" name="uuid" ngModel [(ngModel)]="staff.uuid"/>
            </div>
          </div>
        </fieldset>-->
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label">地址</label>
            <div class="col-sm-8">
              <input class="form-control" type="text" name="home" ngModel [(ngModel)]="staff.home"/>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label">职位</label>
            <div class="col-sm-8">
              <input class="form-control" type="text" name="position" ngModel [(ngModel)]="staff.position"/>
            </div>
          </div>
        </fieldset>

      </div>
      <div class="panel-footer text-center" style="position: fixed;width: 100%;bottom:0;">
        <button class="ml btn btn-default mr pull-left" (click)="cancel()" type="button">取消</button>
        <button class="ml btn btn-info pull-left" type="button" [disabled]="!addLimitForm.form.valid"(click)="addLimitList(addLimitForm.value)">提交信息</button>
      </div>
    </div>
    <!-- END panel-->
  </form>
</div>
<!--修改员工信息end-->

<!--绑定角色角色组begin-->
<div class="rightpage" *ngIf="this.queryId==6" >
  <form class="form-validate form-horizontal" style="height: 100%" #addLimitForm="ngForm">
    <!-- START panel-->
    <div class="panel-default">
      <div class="panel-body">
        <fieldset class="b0">
          <legend>绑定角色角色组</legend>
        </fieldset>
        <input class="form-control" required [(ngModel)]="deptCode" name="deptCode" type="hidden"/>
        <input class="form-control" required [(ngModel)]="staffCode" name="staffCode" type="hidden"/>
        <input class="form-control" required [(ngModel)]="sysCode" name="sysCode" type="hidden"/>
        <input class="form-control" [(ngModel)]="roleCode" name="roleCode" type="hidden"/>
        <input class="form-control"  [(ngModel)]="roleGroupCode" name="roleGroupCode" type="hidden"/>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label"> <i>*</i> 员工姓名</label>
            <div class="col-sm-8">
              <input class="form-control" required name="staffName" [(ngModel)]="staff.staffName"
                     #staffName="ngModel" type="text"/>
              <div [hidden]="staffName.valid || staffName.pristine"
                   class="alert alert-danger">
                员工姓名是必填项，请填写员工姓名
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label"><i>*</i>选择系统</label>
            <div class="col-sm-8">
              <select class="form-control" type="text" [(ngModel)]="sysCode"  name="sysCode"  required #sysCodet="ngModel" (change)="selectedChange()" >
                <option [value]="item.sysCode" *ngFor="let item of sysData">{{item.sysName}}</option>
              </select>
              <div [hidden]="sysCodet.valid||sysCodet.untouched"
                   class="alert alert-danger">
                选择系统是必填项
              </div>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label">选择角色</label>
            <ng-select class="col-sm-8" (data)="value" [multiple]="true" [items]="Role"
                       [disabled]="!addLimitForm.form.valid" #defaultRole
                       (data)="refreshValueRole($event)" placeholder="请选择角色"></ng-select>
          </div>
        </fieldset>
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label">选择角色组</label>
            <ng-select class="col-sm-8" (data)="value" [multiple]="true" [items]="Group"
                       [disabled]="!addLimitForm.form.valid" #defaultGroup
                       (data)="refreshValueGroup($event)" placeholder="请选择角色组"></ng-select>
          </div>
        </fieldset>

      </div>
      <div class="panel-footer text-center" style="position: fixed;width: 100%;bottom:0;">
        <button class="ml btn btn-default mr pull-left" (click)="cancel()" type="button">取消</button>
        <button class="ml btn btn-info pull-left" type="button" [disabled]="!addLimitForm.form.valid" (click)="addLimitList(addLimitForm.value)">分配角色和角色组</button>
      </div>
    </div>
    <!-- END panel-->
  </form>
</div>
<!--绑定角色角色组end-->




